<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>ðŸ§ª AI Prompt Tester</title>

    <!-- Bootstrap 5.3 CSS -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-NXn99v1vO1M4XMv5GKtGTDKc/MkED5hP9G5Rr62N6ME6tEpPAbZfY4VTI6gsAEji"
        crossorigin="anonymous"
    />

    <!-- Bootstrap 5.3 JS -->
    <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-2gQDCVUnpdKIBIHlJuy6zTUlKVKXY8tq5l2MvT3FoXeMBn97eC/SbJ6Hw7gEoYFv"
        crossorigin="anonymous"
    ></script>

    <style>
        html, body {
            height: 100%;
            margin: 0;
            background-color: #f5f7fa;
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        }

        .header-bar {
            background: linear-gradient(90deg, #556ee6, #6a82fb);
            color: white;
            padding: 1.5rem 2rem;
        }

        .form-wrapper {
            flex: 1;
            padding: 2rem;
        }

        .form-label {
            font-weight: 600;
        }

        .btn-primary {
            background-color: #556ee6;
            border-color: #556ee6;
        }

        .btn-primary:hover {
            background-color: #4455cc;
            border-color: #4455cc;
        }

        .alert-info {
            background-color: #e9f2ff;
            border-left: 5px solid #3b82f6;
        }

        textarea {
            resize: vertical;
        }
    </style>
</head>
<body>
    <div class="d-flex flex-column h-100">
        <div class="header-bar">
            <h2 class="mb-0">ðŸ§ª AI Prompt Tester</h2>
        </div>

        <div class="form-wrapper container-fluid">
            <form method="post" class="row g-4">
                <div class="col-12 col-md-6">
                    <label for="company_id" class="form-label">Select Company</label>
                    <select class="form-select" id="company_id" name="company_id" required>
                        {% for company in companies %}
                            <option value="{{ company.id }}" {% if company.id == selected_company_id %}selected{% endif %}>
                                {{ company.name }}
                            </option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col-12">
                    <label for="message" class="form-label">User Message</label>
                    <textarea class="form-control" id="message" name="message" rows="5" required>{{ message or "" }}</textarea>
                </div>

                <div class="col-12 text-end">
                    <button type="submit" class="btn btn-primary px-4">
                        âœ¨ Run Test
                    </button>
                </div>
            </form>

            {% if ai_response %}
                <div class="mt-5">
                    <h5 class="fw-bold">AI Response:</h5>
                    <div class="alert alert-info" style="white-space: pre-wrap;">
                        {{ ai_response }}
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</body>
</html>
